{
  "hash": "4efb63a77ce27a20fac47acb09c84e9b",
  "result": {
    "markdown": "---\ntitle: An Antarctic Tour of the Tidyverse\nsubtitle: v2.0 -- Quarto RevealJS Remix\nauthor: Silvia Canel√≥n, PhD\nformat:\n  revealjs:\n    self-contained: true\n    theme: [\"default\", \"css/rladies-spc.scss\"]\n    history: false\n    code-overflow: wrap\n    df-print: default\n    touch: true\n    footer: \"[slides.silviacanelon.com/tour-of-the-tidyverse-v2]()\"\n    preview-links: true\n    #code-link: true\nexecute: \n  echo: true\n  freeze: true\ntitle-slide-attributes: \n  data-background-image: \"images/lter_penguins.png\"\n  data-background-size: \"35%\"\n  data-background-position: \"50% 15%\"\n  data-background-color: \"#562457\"\n---\n\n\n## Setup {visibility=\"hidden\"}\n\n\n::: {.cell}\n\n:::\n\n\n\n\n## Silvia Canel√≥n {.center .center-x .nostretch  background-image=\"https://images.unsplash.com/photo-1505168125601-4ddfdea4c7e7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2102&q=80\" background-size=\"cover\"}\n\nData Analyst @ Penn Urban Health Lab\n\nUniversity of Pennsylvania, Philadelphia, PA, USA\n\n<img style=\"border-radius: 50%;\" src=\"https://www.silviacanelon.com/about/sidebar/avatar.png\" width=\"200px\" alt=\"smiling woman with a tan complexion, dark eyes, and dark long wavy hair styled to one side\"/>\n\n[`<svg aria-label=\"Link\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><title>Link</title><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\"/></svg>`{=html} silviacanelon.com](https://www.silviacanelon.com)<br/>\n[`<svg aria-label=\"Twitter\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><title>Twitter</title><path d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg>`{=html} @spcanelon](https://twitter.com/spcanelon)<br/>\n[`<svg aria-label=\"GitHub\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><title>GitHub</title><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html} @spcanelon](https://github.com/spcanelon) \n\n::: footer\nPhoto by [Lucas Huffman](https://unsplash.com/@lukehuff?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText) on [Unsplash](https://unsplash.com/s/photos/antarctica?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText)\n:::\n\n## Before we begin {.center}\n\n- Slides adapted from xaringan slides created for an [R-Ladies Chicago tutorial](https://github.com/spcanelon/tour-of-the-tidyverse)\n\n- Slides made using the [Quarto revealjs format](https://quarto.org/docs/presentations/revealjs/)\n\n- [palmerpenguins](https://allisonhorst.github.io/palmerpenguins/articles/intro.html) üì¶ developed by Drs. [Allison Horst](https://www.allisonhorst.com), [Alison Hill](https://apreshill.com), and [Kristen Gorman](https://gormankb.github.io).\n\n- [Penguin illustrations by Allison Horst](https://github.com/allisonhorst/stats-illustrations)\n\n- Photographs from various photographers on Unsplash, and noted on the relevant slide\n\n- This work is licensed under a\n[Creative Commons Attribution-ShareAlike 4.0 International License](http://creativecommons.org/licenses/by-sa/4.0/)\n\n## Slide navigation {.center}\n\n### Welcome to the Antarctic Tour of the Tidyverse v2.0!\n\nThis is meant to be a fun and light introduction to each of the core [tidyverse](tidyverse.org) packages\n\n- A **table of contents** for these slides can be accessed by clicking on the hamburger menu icon on the bottom left corner of the screen\n\n- Many of these slides feature the use of **interactive tabs** to organize content. For each core package in the tidyverse, you will find two groups of tabs:\n  - The **first** group is information about the package and includes an overview, cheatsheet, and reading suggestion\n  - The **second** group includes exercises using the package and displays code chunks along with their respective outputs\n\n- If you prefer to read a longform **tutorial** with the same information, you can find one alongside these slides at [tour-of-the-tidyverse-v2/tutorial](tutorial/)\n\n## Meet our penguin friends!\n\n<br>\n\n:::: {.columns .center-x}\n\n::: {.column width=\"30%\"}\n\n### Chinstrap\n\n<img src=\"https://github.com/spcanelon/slides/blob/main/tour-of-the-tidyverse/images/penguin_chinstrap.jpg?raw=true\" style=\"width: 100%;\" alt=\"These penguins have a white face but the top of the head is black with a narrow black band that resembles a chinstrap. The bill is short and black, and like other penguins Chinstraps have a black back and white underside\">\n\n:::\n\n::: {.column width=\"30%\"}\n  \n### Gentoo\n\n<img src=\"https://github.com/spcanelon/slides/blob/main/tour-of-the-tidyverse/images/penguin_gentoo.jpg?raw=true\" style=\"\" alt=\"These penguins have a black face with a white region that begins behind the eyes and extends and narrows towards the top of the head. The bill is orange, and like other penguins Gentoos have a black back and white underside\">\n  \n:::\n\n::: {.column width=\"30%\"}\n  \n### Ad√©lie\n\n<img src=\"https://github.com/spcanelon/slides/blob/main/tour-of-the-tidyverse/images/penguin_adelie.jpg?raw=true\" style=\"\" alt=\"Black face with some white from the underside that extends into the bottom of the 'cheeks.' The bill is black, and like other penguins Ad√©lies have a black back and white underside\">\n:::\n\n::::\n\n::: footer\nüêß<span> Photos by <a href=\"https://unsplash.com/@longmaspirit?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Long Ma</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n## Collection of R packages, including <br> these 9 core packages (and more!) {.right background-image=\"images/drawio/tidyverse.png\" background-size=\"80%\" background-position=\"50% 35%\" alt=\"schematic including hex logos for the 9 tidyverse packages, readr, ggplot2, forcats, tidyr, tibble, dplyr, stringr, purrr, and lubridate\"}\n\n::: footer\n`lubridate` was welcomed into the `tidyverse` as a core package on [August 12, 2022](https://github.com/tidyverse/tidyverse/commit/3be82832a4982d6d10e25e375cedeb8c3161be35)<br>You may need to install the development version with `remotes::install_github(\"tidyverse/tidyverse\")`\n:::\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 01-readr {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/01-readr.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins are starting their tour with the readr package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## readr: info {background-image=\"images/hex/readr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview\n\n<br><br>\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n### Importing data is the very first step!\n\nYou can use `readr` to import rectangular data.\n:::\n\n::: {.column width=\"50%\"}\n### You can import...\n\n- comma separated (CSV) files with `read_csv()`\n- tab separated files with `read_tsv()`\n- general delimited files with `read_delim()`\n- fixed width files with `read_fwf()`\n- tabular files where columns are separated by white-space with `read_table()`\n- web log files with `read_log()` \n:::\n\n::::\n<!--end columns-->\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/raw/main/data-import.pdf>\n![](https://raw.githubusercontent.com/rstudio/cheatsheets/master/pngs/thumbnails/data-import-cheatsheet-thumbs.png){fig-alt=\"Screenshot of readr cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br>\n\n### R for Data Science: [Ch 11 Data import](https://r4ds.had.co.nz/data-import.html)\n\n### Package documentation: <https://readr.tidyverse.org>\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## readr: exercise {background-image=\"images/hex/readr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Read data in\n\n#### Options 1 & 2 below will get you the same raw dataset for Ad√©lie penguins. Try it out! {.center-x}\n\nOption 1: load using URL\n\n::: {.cell}\n\n```{.r .cell-code}\nread_csv(\"https://portal.edirepository.org/nis/dataviewer?packageid=knb-lter-pal.219.3&entityid=002f3893385f710df69eeebe893144ff\")\n```\n:::\n\n<br>\nOption 2: load using filepath\n\n::: {.cell}\n\n```{.r .cell-code}\nread_csv(\"tutorial/raw_adelie.csv\")\n```\n:::\n\n<br>\n\n----\n\nOption 3: Lucky for us, the `palmerpenguins` üì¶ compiles data from all three species together! Check the clean data and raw data tabs to learn more.\n\n### Clean data\n\n`penguins` contains a clean dataset\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins <- palmerpenguins::penguins\npenguins\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n 1 Adelie  Torgersen           39.1          18.7               181        3750\n 2 Adelie  Torgersen           39.5          17.4               186        3800\n 3 Adelie  Torgersen           40.3          18                 195        3250\n 4 Adelie  Torgersen           NA            NA                  NA          NA\n 5 Adelie  Torgersen           36.7          19.3               193        3450\n 6 Adelie  Torgersen           39.3          20.6               190        3650\n 7 Adelie  Torgersen           38.9          17.8               181        3625\n 8 Adelie  Torgersen           39.2          19.6               195        4675\n 9 Adelie  Torgersen           34.1          18.1               193        3475\n10 Adelie  Torgersen           42            20.2               190        4250\n# ‚Ñπ 334 more rows\n# ‚Ñπ 2 more variables: sex <fct>, year <int>\n```\n:::\n:::\n\n\n### Raw data\n\n`penguins_raw` contains the raw data\n\n::: {.cell}\n\n```{.r .cell-code}\npalmerpenguins::penguins_raw\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 17\n   studyName `Sample Number` Species         Region Island Stage `Individual ID`\n   <chr>               <dbl> <chr>           <chr>  <chr>  <chr> <chr>          \n 1 PAL0708                 1 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N1A1           \n 2 PAL0708                 2 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N1A2           \n 3 PAL0708                 3 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N2A1           \n 4 PAL0708                 4 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N2A2           \n 5 PAL0708                 5 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N3A1           \n 6 PAL0708                 6 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N3A2           \n 7 PAL0708                 7 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N4A1           \n 8 PAL0708                 8 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N4A2           \n 9 PAL0708                 9 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N5A1           \n10 PAL0708                10 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N5A2           \n# ‚Ñπ 334 more rows\n# ‚Ñπ 10 more variables: `Clutch Completion` <chr>, `Date Egg` <date>,\n#   `Culmen Length (mm)` <dbl>, `Culmen Depth (mm)` <dbl>,\n#   `Flipper Length (mm)` <dbl>, `Body Mass (g)` <dbl>, Sex <chr>,\n#   `Delta 15 N (o/oo)` <dbl>, `Delta 13 C (o/oo)` <dbl>, Comments <chr>\n```\n:::\n:::\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 02-tibble {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/02-tibble.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the tibble package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## tibble: info {background-image=\"images/hex/tibble.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n<br><br>\n\n#### A `tibble` is much like the `dataframe` in base R,<br>but optimized for use in the Tidyverse.{.center}\n\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/blob/main/tidyr.pdf>\n![](images/cheatsheet/02-tibble-tidyr.png){width=65% fig-alt=\"The tibble package shares a cheatsheet with the tidyr package\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br>\n\n### R for Data Science: [Ch 10 Tibbles](https://r4ds.had.co.nz/tibbles.html)\n\n### Package documentation: <https://tibble.tidyverse.org>\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## tibble: exercise {background-image=\"images/hex/tibble.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Code\n\n#### Let's take a look at the differences! {.center-x}\n\n::: {.cell}\n\n```{.r .cell-code}\n# try each of these commands in the console and see if \n# you can spot the differences!\n\nas_tibble(penguins)\nas.data.frame(penguins)\n```\n:::\n\n### Result\n\n\n::: {.cell}\n\n```{.r .cell-code}\nas_tibble(penguins) |> head(4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 4 √ó 8\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n# ‚Ñπ 2 more variables: sex <fct>, year <int>\n```\n:::\n:::\n\n<br>\n\n::: {.cell}\n\n```{.r .cell-code}\nas.data.frame(penguins) |> head(4)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  species    island bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n1  Adelie Torgersen           39.1          18.7               181        3750\n2  Adelie Torgersen           39.5          17.4               186        3800\n3  Adelie Torgersen           40.3          18.0               195        3250\n4  Adelie Torgersen             NA            NA                NA          NA\n     sex year\n1   male 2007\n2 female 2007\n3 female 2007\n4   <NA> 2007\n```\n:::\n:::\n\n### Chat\n\n#### What differences do you see?\n\nYou might see a `tibble` prints:\n\n- variable classes\n- only 10 rows\n- only as many columns as can fit on the screen\n- `NA`s are highlighted in console so they're easy to spot (font highlighting and styling in `tibble`)\n\nNot so much a concern in an R Markdown file, but noticeable in the console\n\nThis enhanced print method makes it easier to work with large datasets\n\n### More\n\nThere are a couple of other main differences, namely in **subsetting** and **recycling**\n\nCheck them out in [`vignette(\"tibble\")`](https://tibble.tidyverse.org/articles/tibble.html)\n\n::: {.cell}\n\n```{.r .cell-code}\nvignette(\"tibble\")\n```\n:::\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 03-ggplot2 {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/03-ggplot2.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the ggplot2 package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## ggplot2: info {background-image=\"images/hex/ggplot2.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n<br><br>\n\n#### `ggplot2` uses the \"Grammar of Graphics\" and layers graphical components together to help us create a plot\n\nLet's start by making a simple plot of our data!\n\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/raw/main/data-visualization-2.1.pdf>\n![](images/cheatsheet/03-ggplot2.png){width=100% fig-alt=\"ggplot2 cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br>\n\n### R for Data Science: [Ch 3 Data visualization](https://r4ds.had.co.nz/data-visualisation.html)\n\n### Package documentation: <https://ggplot2.tidyverse.org>\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## ggplot2: exercise {background-image=\"images/hex/ggplot2.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### View the data\n\nGet a full view of the dataset:\n\n::: {.cell}\n\n```{.r .cell-code}\nView(penguins)\n```\n:::\n\n<br>\nOr catch a `glimpse`:\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 344\nColumns: 8\n$ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel‚Ä¶\n$ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse‚Ä¶\n$ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, ‚Ä¶\n$ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, ‚Ä¶\n$ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186‚Ä¶\n$ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, ‚Ä¶\n$ sex               <fct> male, female, female, NA, female, male, female, male‚Ä¶\n$ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007‚Ä¶\n```\n:::\n:::\n\n### Scatterplot\n\nLet's see if body mass varies by penguin sex using `geom_point()`\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(data = penguins, aes(x = sex, y = body_mass_g)) + \n  geom_point()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-revealjs/scatterplot-1.png){fig-alt='A scatterplot with categorical penguin sex along the x axis and continuous body mass along the y axis. The three sex categories are female, male, and NA. The body mass appears to range between 2400g and 6500g. Because this is a scatterplot, there are various points scattered along the y axis in a line above each sex category, which doesn\\'t tell us much about these data. There are other types of plots better suited for visualizing the relationship between a continuous variable and a categorical variable.' width=960}\n:::\n:::\n\n### Boxplot\n\nLet's see if body mass varies by penguin sex, this time with `geom_boxplot()`\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(data = penguins, aes(x = sex, y = body_mass_g)) +\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](index_files/figure-revealjs/boxplot-1.png){fig-alt='A boxplot with penguin sex along the x axis and body mass along the y axis. Again, the three sex categories are female, male, and NA, and the body mass appears to range between 2400g and 6500g. Because this is a boxplot, we can visualize the minimum value, first quartile, median, third quartile, and maximum value of penguin body mass, for each penguin sex category. Female penguins have a lower median body mass than male penguins, while the NA sex category is somewhere in between the two. There are no outliers.' width=960}\n:::\n:::\n\n### By Species\n\nLet's see if body mass varies by penguin sex, and now fill the boxplots <br>according to penguin species\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2\"}\nggplot(data = penguins, aes(x = sex, y = body_mass_g)) +\n  geom_boxplot(aes(fill = species))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-revealjs/by-species-1.png){fig-alt='A boxplot with penguin sex along the x axis and body mass along the y axis. Again, the three sex categories are female, male, and NA, and the body mass appears to range between 2400g and 6500g. This time, instead of one boxplot per sex category, there is a boxplot for each species, per sex category, and these are filled with different colors. Gentoo boxplots are blue, Ad√©lie boxplots are reddish, and Chinstrap boxplots are green. Male penguins have higher body mass across species, and Gentoo penguins stand out as having higher body mass than both Chinstrap and Ad√©lie penguins. Low body mass outliers exist for female Chinstrap penguins and NA Gentoo penguins, and high body mass outliers exist for male Chinstrap penguins. There is no boxplot for Chinstrap penguins in the NA sex category.' width=960}\n:::\n:::\n\n### Chat\n\n#### The boxplot filled by species helps us see...\n\n- Gentoo penguins have higher body mass than Ad√©lie and Chinstrap penguins\n- Higher body mass among male Gentoo penguins compared to female penguins\n- Pattern not as discernible when comparing Ad√©lie and Chinstrap penguins\n- No `NA`s among Chinstrap penguin data points! **sex** was available for each observation\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-14-1.png){fig-alt='Same boxplot as the previous tab. Any additional data insights are listed in the text of this slide.' width=960}\n:::\n:::\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 04-dplyr {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/04-dplyr.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the dplyr package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## dplyr: info {background-image=\"images/hex/dplyr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n:::: {.columns}\n\n::: {.column}\n\n#### Data transformation helps you get the data in exactly the right form you need \n\nWith `dplyr` you can:\n\n- create new variables\n- create summaries\n- rename variables\n- reorder observations\n- ...and more!\n\n:::\n\n::: {.column}\n\n- Pick observations by their values with `filter()`.\n- Reorder the rows with `arrange()`.\n- Pick variables by their names `select()`.\n- Create new variables with functions of existing variables with `mutate()`.\n- Collapse many values down to a single summary with `summarize()`.\n- `group_by()` gets the above functions to operate group-by-group rather than on the entire dataset. \n- and `count()` + `add_count()` simplify `group_by()` + `summarize()` when you just want to count\n\n:::\n\n::::\n<!--end columns-->\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/raw/main/data-transformation.pdf>\n![](images/cheatsheet/04-dplyr.png){width=100% fig-alt=\"dplyr cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br>\n\n### R for Data Science: [Ch 11 Data transformation](https://r4ds.had.co.nz/transform.html)\n\n### Package documentation: <https://dplyr.tidyverse.org>\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## dplyr: exercise {background-image=\"images/hex/dplyr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Select\n\n#### Can you spot the difference in these operations?{.center-x}\n\n:::: {.columns}\n\n::: {.column}\n\n::: {.cell}\n\n```{.r .cell-code}\nselect(penguins, \n       species,\n       sex,\n       body_mass_g)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 3\n   species sex    body_mass_g\n   <fct>   <fct>        <int>\n 1 Adelie  male          3750\n 2 Adelie  female        3800\n 3 Adelie  female        3250\n 4 Adelie  <NA>            NA\n 5 Adelie  female        3450\n 6 Adelie  male          3650\n 7 Adelie  female        3625\n 8 Adelie  male          4675\n 9 Adelie  <NA>          3475\n10 Adelie  <NA>          4250\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n:::\n\n::: {.column}\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |> \n  select(species,\n         sex,\n         body_mass_g)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 3\n   species sex    body_mass_g\n   <fct>   <fct>        <int>\n 1 Adelie  male          3750\n 2 Adelie  female        3800\n 3 Adelie  female        3250\n 4 Adelie  <NA>            NA\n 5 Adelie  female        3450\n 6 Adelie  male          3650\n 7 Adelie  female        3625\n 8 Adelie  male          4675\n 9 Adelie  <NA>          3475\n10 Adelie  <NA>          4250\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Arrange\n\nWe can use `arrange()` to arrange our data in descending order by **body_mass_g**\n\n:::: {.columns}\n\n::: {.column width=45%}\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(penguins)\n## Rows: 344\n## Columns: 8\n## $ species           <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adel‚Ä¶\n## $ island            <fct> Torgersen, Torgersen, Torgersen, Torgersen, Torgerse‚Ä¶\n## $ bill_length_mm    <dbl> 39.1, 39.5, 40.3, NA, 36.7, 39.3, 38.9, 39.2, 34.1, ‚Ä¶\n## $ bill_depth_mm     <dbl> 18.7, 17.4, 18.0, NA, 19.3, 20.6, 17.8, 19.6, 18.1, ‚Ä¶\n## $ flipper_length_mm <int> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186‚Ä¶\n## $ body_mass_g       <int> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, ‚Ä¶\n## $ sex               <fct> male, female, female, NA, female, male, female, male‚Ä¶\n## $ year              <int> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007‚Ä¶\n```\n:::\n\n:::\n\n::: {.column width=55%}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\npenguins |>\n  select(species, sex, body_mass_g) |>\n  arrange(desc(body_mass_g))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 3\n   species sex   body_mass_g\n   <fct>   <fct>       <int>\n 1 Gentoo  male         6300\n 2 Gentoo  male         6050\n 3 Gentoo  male         6000\n 4 Gentoo  male         6000\n 5 Gentoo  male         5950\n 6 Gentoo  male         5950\n 7 Gentoo  male         5850\n 8 Gentoo  male         5850\n 9 Gentoo  male         5850\n10 Gentoo  male         5800\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Group By & Summarize\n\n:::: {.columns}\n\n::: {.column width=45%}\n\nWe can use `group_by()` to group our data by **species** and **sex**\n\nWe can use `summarize()` to calculate the average **body_mass_g** for each grouping\n\n:::\n\n::: {.column width=55%}\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3|4\"}\npenguins |>\n  select(species, sex, body_mass_g) |>\n  group_by(species, sex) |>         \n  summarize(mean = mean(body_mass_g))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 √ó 3\n# Groups:   species [3]\n  species   sex     mean\n  <fct>     <fct>  <dbl>\n1 Adelie    female 3369.\n2 Adelie    male   4043.\n3 Adelie    <NA>     NA \n4 Chinstrap female 3527.\n5 Chinstrap male   3939.\n6 Gentoo    female 4680.\n7 Gentoo    male   5485.\n8 Gentoo    <NA>     NA \n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Count 1\n\nIf we're just interested in _counting_ the observations in each grouping, we can group and summarize with special functions `count()` and `add_count()`.\n\n----\n\n:::: {.columns}\n\n::: {.column width=45%}\n\nCounting can be done with `group_by()` and `summarize()`, but it's a little cumbersome. \n\nIt involves...\n\n1. using `mutate()` to create an intermediate variable **n_species** that adds up all observations per **species**, and\n1. an `ungroup()`-ing step\n\n:::\n\n::: {.column width=55%}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-4\"}\npenguins |> \n  group_by(species) |>\n  mutate(n_species = n()) |> \n  ungroup() |> \n  group_by(species, sex, n_species) |>\n  summarize(n = n())\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 √ó 4\n# Groups:   species, sex [8]\n  species   sex    n_species     n\n  <fct>     <fct>      <int> <int>\n1 Adelie    female       152    73\n2 Adelie    male         152    73\n3 Adelie    <NA>         152     6\n4 Chinstrap female        68    34\n5 Chinstrap male          68    34\n6 Gentoo    female       124    58\n7 Gentoo    male         124    61\n8 Gentoo    <NA>         124     5\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Count 2\n\nIf we're just interested in _counting_ the observations in each grouping, we can group and summarize with special functions `count()` and `add_count()`.\n\n----\n\n:::: {.columns}\n\n::: {.column width=45%}\n\nIn contrast, `count()` and `add_count()` offer a simplified approach\n\n::: {.small-text}\nExample kindly [contributed by Alison Hill](https://github.com/spcanelon/2020-rladies-chi-tidyverse/issues/2)\n:::\n\n:::\n\n::: {.column width=55%}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-4\"}\npenguins |>\n  count(species, sex) |>\n  add_count(species, wt = n, \n            name = \"n_species\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 √ó 4\n  species   sex        n n_species\n  <fct>     <fct>  <int>     <int>\n1 Adelie    female    73       152\n2 Adelie    male      73       152\n3 Adelie    <NA>       6       152\n4 Chinstrap female    34        68\n5 Chinstrap male      34        68\n6 Gentoo    female    58       124\n7 Gentoo    male      61       124\n8 Gentoo    <NA>       5       124\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Mutate\n\n:::: {.columns}\n\n::: {.column width=45%}\nWe can add to our counting example by using `mutate()` to create a new variable **prop**\n\n**prop** represents the proportion of penguins of each **sex**, grouped by **species**\n\n::: {.small-text}\n\nExample kindly [contributed by Alison Hill](https://github.com/spcanelon/2020-rladies-chi-tidyverse/issues/2)\n\n:::\n\n:::\n\n::: {.column width=55%}\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"5\"}\npenguins |>\n  count(species, sex) |>\n  add_count(species, wt = n, \n            name = \"n_species\") |>\n  mutate(prop = n/n_species*100)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 8 √ó 5\n  species   sex        n n_species  prop\n  <fct>     <fct>  <int>     <int> <dbl>\n1 Adelie    female    73       152 48.0 \n2 Adelie    male      73       152 48.0 \n3 Adelie    <NA>       6       152  3.95\n4 Chinstrap female    34        68 50   \n5 Chinstrap male      34        68 50   \n6 Gentoo    female    58       124 46.8 \n7 Gentoo    male      61       124 49.2 \n8 Gentoo    <NA>       5       124  4.03\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Filter\n\n:::: {.columns}\n\n::: {.column width=45%}\n\nFinally, we can filter rows to only show us **Chinstrap** penguin summaries by adding `filter()` to our pipeline\n\n:::\n\n::: {.column width=55%}\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"6\"}\npenguins |>\n  count(species, sex) |>\n  add_count(species, wt = n, \n            name = \"n_species\") |>\n  mutate(prop = n/n_species*100) |>\n  filter(species == \"Chinstrap\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 2 √ó 5\n  species   sex        n n_species  prop\n  <fct>     <fct>  <int>     <int> <dbl>\n1 Chinstrap female    34        68    50\n2 Chinstrap male      34        68    50\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 05-forcats {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/05-forcats.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the forcats package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## forcats: info {background-image=\"images/hex/forcats.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n<br><br>\n\n#### `forcats` helps us work with **categorical variables** or factors \n\nThese are variables that have a fixed and known set of possible values, like **species**, **island**, and **sex** in our `penguins` dataset\n\n\n### Cheatsheet\n\n{{< fa file-pdf >}} <https://github.com/rstudio/cheatsheets/raw/main/factors.pdf>\n![](images/cheatsheet/05-forcats.png){width=60% fig-alt=\"forcats cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br>\n\n#### R for Data Science: [Ch 15 Factors](https://r4ds.had.co.nz/factors.html)\n\n#### Package documentation: <https://forcats.tidyverse.org>\n\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## forcats: exercise {background-image=\"images/hex/forcats.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Code\n\nCurrently the **year** variable in `penguins` is continuous from 2007 to 2009\n\nUsually this isn't what we want and we might want to turn it into a categorical variable instead\n\nThe `factor()` function is perfect for this\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins |> mutate(year_factor = factor(year, levels = unique(year)))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 9\n   species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n   <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n 1 Adelie  Torgersen           39.1          18.7               181        3750\n 2 Adelie  Torgersen           39.5          17.4               186        3800\n 3 Adelie  Torgersen           40.3          18                 195        3250\n 4 Adelie  Torgersen           NA            NA                  NA          NA\n 5 Adelie  Torgersen           36.7          19.3               193        3450\n 6 Adelie  Torgersen           39.3          20.6               190        3650\n 7 Adelie  Torgersen           38.9          17.8               181        3625\n 8 Adelie  Torgersen           39.2          19.6               195        4675\n 9 Adelie  Torgersen           34.1          18.1               193        3475\n10 Adelie  Torgersen           42            20.2               190        4250\n# ‚Ñπ 334 more rows\n# ‚Ñπ 3 more variables: sex <fct>, year <int>, year_factor <fct>\n```\n:::\n:::\n\n### Result\n\nThe result is a new variable **year_factor** with factor levels **2007**, **2008**, and **2009**\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_new <- penguins |> mutate(year_factor = factor(year, levels = unique(year)))\npenguins_new |> head()\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 6 √ó 9\n  species island    bill_length_mm bill_depth_mm flipper_length_mm body_mass_g\n  <fct>   <fct>              <dbl>         <dbl>             <int>       <int>\n1 Adelie  Torgersen           39.1          18.7               181        3750\n2 Adelie  Torgersen           39.5          17.4               186        3800\n3 Adelie  Torgersen           40.3          18                 195        3250\n4 Adelie  Torgersen           NA            NA                  NA          NA\n5 Adelie  Torgersen           36.7          19.3               193        3450\n6 Adelie  Torgersen           39.3          20.6               190        3650\n# ‚Ñπ 3 more variables: sex <fct>, year <int>, year_factor <fct>\n```\n:::\n:::\n\n:::: {.columns}\n\n::: {.column width=50%}\n\n::: {.cell}\n\n```{.r .cell-code}\nclass(penguins_new$year_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"factor\"\n```\n:::\n:::\n\n:::\n\n::: {.column width=50%}\n\n::: {.cell}\n\n```{.r .cell-code}\nlevels(penguins_new$year_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"2007\" \"2008\" \"2009\"\n```\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 06-stringr {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/06-stringr.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the stringr package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## stringr: info {background-image=\"images/hex/stringr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n<br>\n\n:::: {.columns}\n\n::: {.column width=48%}\n\n#### `stringr` helps us manipulate strings! \n\nThe package includes many functions to help us with **regular expressions**, which are a concise language for describing patterns in strings.\n\n:::\n\n::: {.column width=50%}\n \n### These functions help us\n\n-  detect matches\n-  subset strings\n-  manage string lengths\n-  mutate strings\n-  join and split strings\n-  order strings\n-  ...and more!\n\n:::\n\n::::\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/raw/main/strings.pdf>\n![](images/cheatsheet/06-stringr.png){fig-alt=\"stringr cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br><br>\n\n#### R for Data Science: [Ch 14 Strings](https://r4ds.had.co.nz/strings.html)\n\n#### Package documentation: <https://stringr.tidyverse.org>\n\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## stringr: exercise {background-image=\"images/hex/stringr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Mutate\n\n#### What does this chunk do?\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3\"}\npenguins |>\n  select(species, island) |>\n  mutate(ISLAND = str_to_upper(island))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 3\n   species island    ISLAND   \n   <fct>   <fct>     <chr>    \n 1 Adelie  Torgersen TORGERSEN\n 2 Adelie  Torgersen TORGERSEN\n 3 Adelie  Torgersen TORGERSEN\n 4 Adelie  Torgersen TORGERSEN\n 5 Adelie  Torgersen TORGERSEN\n 6 Adelie  Torgersen TORGERSEN\n 7 Adelie  Torgersen TORGERSEN\n 8 Adelie  Torgersen TORGERSEN\n 9 Adelie  Torgersen TORGERSEN\n10 Adelie  Torgersen TORGERSEN\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n### Join\n\n#### How about this one?\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4\"}\npenguins |>\n  select(species, island) |>\n  mutate(ISLAND = str_to_upper(island)) |>\n  mutate(species_island = str_c(species, ISLAND, sep = \"_\"))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 4\n   species island    ISLAND    species_island  \n   <fct>   <fct>     <chr>     <chr>           \n 1 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 2 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 3 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 4 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 5 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 6 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 7 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 8 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n 9 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n10 Adelie  Torgersen TORGERSEN Adelie_TORGERSEN\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 07-tidyr {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/07-tidyr.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the tidyr package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## tidyr: info {background-image=\"images/hex/tidyr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n`tidyr` helps us transform our dataset into a [tidy format](https://r4ds.had.co.nz/tidy-data.html)\n\n> There are three interrelated rules which make a dataset tidy:\n>\n> - Each variable must have its own column.\n> - Each observation must have its own row.\n> - Each value must have its own cell.\n> ![](https://d33wubrfki0l68.cloudfront.net/6f1ddb544fc5c69a2478e444ab8112fb0eea23f8/91adc/images/tidy-1.png){fig-alt=\"schematic representing the 3 earlier points\"}\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/blob/main/tidyr.pdf>\n![](images/cheatsheet/07-tidyr.png){fig-alt=\"tidyr cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br><br>\n\n#### R for Data Science: [Ch 12 Tidy data](https://r4ds.had.co.nz/tidy-data.html)\n\n#### Package documentation: <https://tidyr.tidyverse.org>\n\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## tidyr: exercise {background-image=\"images/hex/tidyr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Un-tidying\n\n#### Both penguin datasets are already tidy!\n\nWe can pretend that `penguins` wasn't tidy and that it looked instead like `untidy_penguins` below, where **body_mass_g** was recorded separately for *male*, *female*, and *NA* **sex** penguins.\n\n::: {.cell}\n\n```{.r .cell-code}\nuntidy_penguins <- penguins |> pivot_wider(names_from = sex, values_from = body_mass_g)\nuntidy_penguins\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 9\n   species island    bill_length_mm bill_depth_mm flipper_length_mm  year  male\n   <fct>   <fct>              <dbl>         <dbl>             <int> <int> <int>\n 1 Adelie  Torgersen           39.1          18.7               181  2007  3750\n 2 Adelie  Torgersen           39.5          17.4               186  2007    NA\n 3 Adelie  Torgersen           40.3          18                 195  2007    NA\n 4 Adelie  Torgersen           NA            NA                  NA  2007    NA\n 5 Adelie  Torgersen           36.7          19.3               193  2007    NA\n 6 Adelie  Torgersen           39.3          20.6               190  2007  3650\n 7 Adelie  Torgersen           38.9          17.8               181  2007    NA\n 8 Adelie  Torgersen           39.2          19.6               195  2007  4675\n 9 Adelie  Torgersen           34.1          18.1               193  2007    NA\n10 Adelie  Torgersen           42            20.2               190  2007    NA\n# ‚Ñπ 334 more rows\n# ‚Ñπ 2 more variables: female <int>, `NA` <int>\n```\n:::\n:::\n\n### Re-tidying\n\n#### Now let's make it tidy again!\n\nWe'll use the help of `pivot_longer()`\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"2,3,4\"}\nuntidy_penguins |>\n  pivot_longer(cols = male:`NA`,           \n               names_to = \"sex\",           \n               values_to = \"body_mass_g\")\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 1,032 √ó 8\n   species island    bill_length_mm bill_depth_mm flipper_length_mm  year sex   \n   <fct>   <fct>              <dbl>         <dbl>             <int> <int> <chr> \n 1 Adelie  Torgersen           39.1          18.7               181  2007 male  \n 2 Adelie  Torgersen           39.1          18.7               181  2007 female\n 3 Adelie  Torgersen           39.1          18.7               181  2007 NA    \n 4 Adelie  Torgersen           39.5          17.4               186  2007 male  \n 5 Adelie  Torgersen           39.5          17.4               186  2007 female\n 6 Adelie  Torgersen           39.5          17.4               186  2007 NA    \n 7 Adelie  Torgersen           40.3          18                 195  2007 male  \n 8 Adelie  Torgersen           40.3          18                 195  2007 female\n 9 Adelie  Torgersen           40.3          18                 195  2007 NA    \n10 Adelie  Torgersen           NA            NA                  NA  2007 male  \n# ‚Ñπ 1,022 more rows\n# ‚Ñπ 1 more variable: body_mass_g <int>\n```\n:::\n:::\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 08-purrr {visibility=\"hidden\"}\n\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/08-purrr.png){.absolute top=30 left=30 width=\"100%\" fig-alt=\"Our illustrated penguins have reached the purrr package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## purrr: info {background-image=\"images/hex/purrr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview {.center}\n\n<br><br>\n\n:::: {.columns}\n\n::: {.column width=48%}\n\n#### Provides tools for working with functions and vectors \n\nThe `purrr` family of functions helps us replace for loops, making our code easier to read and more succint.\n\n:::\n\n::: {.column width=50%}\n\n#### With `purrr` you can\n\n- Iterate over a single input with `map()`\n- Iterate over two inputs in parallel with `map2()`\n- Iterate with multiple arguments with `pmap()`\n- Iterate with multiple arguments and functions with `invoke_map()`\n- Call a function for its side-effects with `walk()`, `walk2()`, and `pwalk()`\n\n:::\n\n::::\n<!--end columns-->\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/raw/main/purrr.pdf>\n![](images/cheatsheet/08-purrr.png){fig-alt=\"purrr cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\"}{fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br><br>\n\n#### R for Data Science: [Ch 21 Iteration](https://r4ds.had.co.nz/iteration.html)\n\n#### Package documentation: <https://purrr.tidyverse.org>\n\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## purrr: exercise {background-image=\"images/hex/purrr.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Time for a change?\n\n:::: {.columns}\n\n::: {.column width=30%}\n\nOk, we love our earlier boxplot showing us **body_mass_g** by **sex** and colored by **species**... \n\n...but let's change up the colors to keep with our Antarctica theme!\n\nI'm a big fan of the color palettes in the `nord` üì¶\n\n:::\n\n::: {.column width=5%}\n\n:::\n\n::: {.column width=65%}\n\n![](https://raw.githubusercontent.com/jkaupp/nord/master/man/figures/README-palettes-1.png){fig-alt=\"16 different nordic color palettes from the Nord package. We will be focusing on the mountain_forms palette which was dark teal, dusty blue, snowy white, dusty purple, and dark purple\"}\n\n:::\n\n::::\n<!--end columns-->\n\n### Goal\n\n:::: {.columns}\n\n::: {.column}\n\nLet's turn this plot...\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-37-1.png){fig-alt='Our filled boxplot from our earlier ggplot2 exercises! To recap, a boxplot with penguin sex along the x axis and body mass along the y axis. Again, the three sex categories are female, male, and NA, and the body mass appears to range between 2400g and 6500g. There is a boxplot for each species per sex category, and these are filled with different colors. Gentoo boxplots are blue, Ad√©lie boxplots are reddish, and Chinstrap boxplots are green.' width=960}\n:::\n:::\n\n:::\n\n::: {.column}\n\n...into this one!\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-38-1.png){fig-alt='In contrast to the other filled boxplot referred to in this tab, this one is filled with nordic colors. Gentoo boxplots are a dark purple, Ad√©lie boxplots are a dark teal, and Chinstrap boxplots are a snowy white.' width=960}\n:::\n:::\n\n::: {.small-text}\nNote: The color choices in this example are meant for demo purposes only. Be sure to consider the [accessibility of your data viz](https://www.highcharts.com/blog/tutorials/10-guidelines-for-dataviz-accessibility), including color contrast between different elements.\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Option 1\n\n:::: {.columns}\n\n::: {.column}\n\nYou can choose colors using<br>the color hex codes\n\n::: {.cell}\n\n```{.r .cell-code}\nnord::nord_palettes$mountain_forms\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] \"#184860\" \"#486078\" \"#d8d8d8\" \"#484860\" \"#181830\"\n```\n:::\n:::\n\nAnd assign them using the `scale_fill_manual()` function\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4-7\"}\npenguins |>\n  ggplot(aes(x = sex, y = body_mass_g)) +\n  geom_boxplot(aes(fill = species)) +\n  scale_fill_manual(\n    values = c(\"#184860\", \n               \"#D8D8D8\", \n               \"#181830\"))\n```\n:::\n\n:::\n\n::: {.column}\n\n<br>\n\n::: {.cell}\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-40-1.png){width=960}\n:::\n:::\n\n:::\n\n:::: \n<!--end columns-->\n\n### Options 2 & 3\n\n:::: {.columns}\n\n::: {.column}\n\nYou can also use the palette name, like **mountain_forms**, though the colors assigned may not align with what you want\n<br>\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4-6\"}\npenguins |>\n  ggplot(aes(x = sex, y = body_mass_g)) +\n  geom_boxplot(aes(fill = species)) +\n  scale_fill_manual(\n    values = nord::nord_palettes$mountain_forms\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-revealjs/nord-2-1.png){fig-alt='Our boxplot filled with nordic colors though the scale_fill_manual function has automatically selected a different combination of colors from the palette. Gentoo boxplots are snowy white intead of dark purple, Ad√©lie boxplots are a still a dark teal, and Chinstrap boxplots are a dusty blue intead of snowy white.' width=480}\n:::\n:::\n\n:::\n\n::: {.column}\n\nAnd sometimes, color palette packages come with their own functions that assign colors, like `scale_fill_nord()`\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"4-6\"}\npenguins |>\n  ggplot(aes(x = sex, y = body_mass_g)) +\n  geom_boxplot(aes(fill = species)) +\n  nord::scale_fill_nord(\n    palette = \"mountain_forms\"\n    )\n```\n\n::: {.cell-output-display}\n![](index_files/figure-revealjs/unnamed-chunk-41-1.png){fig-alt='Our boxplot filled with nordic colors. Gentoo boxplots are a dark purple, Ad√©lie boxplots are a dark teal, and Chinstrap boxplots are a snowy white.' width=480}\n:::\n:::\n\n:::\n\n::::\n<!--end columns-->\n\n### Purrr?\n\n:::: {.columns}\n\n::: {.column}\n\nThe `prismatic` üì¶ helps us **see** the colors that correspond to each color hex code (mostly), with the `color()` function\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(prismatic)\n\nprismatic::color(\n    nord::nord_palettes$mountain_forms\n    )\n```\n:::\n![](images/nord_mountainforms.png){fig-alt=\"hex codes for the 5 colors in the mountain_forms palette, with a background color to match it. Dark teal is #184860, dusty blue is #486078, snowy white is #D8D8D8, purple is #484860, and dark purple is #181830\"}\n\n:::\n\n::: {.column}\n\n`purrr`'s `map()` function can help us iterate `color()` over all palettes in a palette package like `nord`!\n\n::: {.cell}\n\n```{.r .cell-code}\nnord::nord_palettes |> \n    map(prismatic::color)\n```\n:::\n\n![](images/nord_multiple.png){fig-alt=\"hex color codes for 4 of the palettes in the nord package, including mountain_forms\"}\n\n:::\n\n::::\n<!--end columns-->\n\n### More palettes!\n\n:::: {.columns}\n\n::: {.column}\n\n<br><br>\n\nüé® [r-color-palettes repo](https://github.com/EmilHvitfeldt/r-color-palettes) from Emil Hvitfeldt\n\nLike this Wes Anderson themed one! And many, many others ü§©\n\n:::\n\n::: {.column}\n\n![](images/wesanderson_example.png){fig-alt=\"10 different bright color palettes from the wesanderson color palette package.\"}\n\n:::\n\n::::\n<!--end columns-->\n\n:::\n<!--end panels-->\n\n\n\n\n\n\n\n\n\n\n\n\n\n# 09-lubridate {visibility=\"hidden\"}\n\n\n\n## {background-image=\"https://images.unsplash.com/photo-1591792111137-5b8219d5fad6?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=4350&q=80\" background-position=\"52% 5%\" background-size=\"cover\"}\n\n![](images/drawio/09-lubridate.png){.absolute top=50 left=50 width=\"100%\" fig-alt=\"Our illustrated penguins are ending their tour with the lubridate package! The photo backdrop is a snowy Antarctic wonderland featuring a Gentoo penguin with outstretched flippers\"}\n\n\n::: footer\n<span>Photo by <a href=\"https://unsplash.com/@eadesstudio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">James Eades</a> on <a href=\"https://unsplash.com/collections/12240655/palmerpenguins/d5aed8c855e26061e5e651d3f180b76d?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText\">Unsplash</a></span>\n:::\n\n---\n\n## lubridate: info {background-image=\"images/hex/lubridate.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Overview\n\n<br><br>\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n### `lubridate` helps us work with dates and times, including \n\n- a **date** like `August 31, 2022`\n- a **time** like `10:35 am`\n- a **date-time** like `2022-08-31 10:35:00`\n\n:::\n\n::: {.column width=\"50%\"}\n### You can...\n\n- convert strings or numbers to date-times\n- get and set components of a date-time\n- round date-times\n- add or subtract periods to model events that happen at specific clock times\n- add or substract durations to model a physical process\n- work with time intervals\n\n:::\n\n::::\n<!--end columns-->\n\n### Cheatsheet\n\n{{< fa file-pdf >}} PDF: <https://github.com/rstudio/cheatsheets/blob/main/lubridate.pdf>\n![](images/cheatsheet/09-lubridate.png){fig-alt=\"lubridate cheatsheet\"}\n\n### Reading\n\n<!--start columns-->\n:::: {.columns}\n\n::: {.column width=\"40%\"}\n\n![](images/r4ds-cover.png){width=\"300\" fig-alt=\"R4DS book cover\"}\n\n:::\n\n::: {.column width=\"60%\"}\n\n<br>\n\n### R for Data Science: [Ch 16 Dates and times](https://r4ds.had.co.nz/dates-and-times.html)\n\n### Package documentation: <https://lubridate.tidyverse.org>\n\n:::\n\n::::\n<!--end columns-->\n\n::: \n<!--end panels-->\n\n## lubridate: exercise {background-image=\"images/hex/lubridate.png\" background-size=\"8%\" background-position=\"98% 4%\"}\n\n<!--start panels-->\n::: {.panel-tabset}\n\n### Read data in\n\nRecall that `palmperpenguins` includes raw data as well\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_raw <- palmerpenguins::penguins_raw\npenguins_raw\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 17\n   studyName `Sample Number` Species         Region Island Stage `Individual ID`\n   <chr>               <dbl> <chr>           <chr>  <chr>  <chr> <chr>          \n 1 PAL0708                 1 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N1A1           \n 2 PAL0708                 2 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N1A2           \n 3 PAL0708                 3 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N2A1           \n 4 PAL0708                 4 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N2A2           \n 5 PAL0708                 5 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N3A1           \n 6 PAL0708                 6 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N3A2           \n 7 PAL0708                 7 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N4A1           \n 8 PAL0708                 8 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N4A2           \n 9 PAL0708                 9 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N5A1           \n10 PAL0708                10 Adelie Penguin‚Ä¶ Anvers Torge‚Ä¶ Adul‚Ä¶ N5A2           \n# ‚Ñπ 334 more rows\n# ‚Ñπ 10 more variables: `Clutch Completion` <chr>, `Date Egg` <date>,\n#   `Culmen Length (mm)` <dbl>, `Culmen Depth (mm)` <dbl>,\n#   `Flipper Length (mm)` <dbl>, `Body Mass (g)` <dbl>, Sex <chr>,\n#   `Delta 15 N (o/oo)` <dbl>, `Delta 13 C (o/oo)` <dbl>, Comments <chr>\n```\n:::\n:::\n\n### View date-times\n\nIn the raw data, `Date Egg` is the date that a penguin nest in the study was observed with 1 egg\n\nCheck out `?penguins_raw` to learn more about the other variables in this dataset\n\n::: {.cell}\n\n```{.r .cell-code}\npenguins_raw |> select(Species, Sex, `Date Egg`)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 3\n   Species                             Sex    `Date Egg`\n   <chr>                               <chr>  <date>    \n 1 Adelie Penguin (Pygoscelis adeliae) MALE   2007-11-11\n 2 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-11\n 3 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-16\n 4 Adelie Penguin (Pygoscelis adeliae) <NA>   2007-11-16\n 5 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-16\n 6 Adelie Penguin (Pygoscelis adeliae) MALE   2007-11-16\n 7 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-15\n 8 Adelie Penguin (Pygoscelis adeliae) MALE   2007-11-15\n 9 Adelie Penguin (Pygoscelis adeliae) <NA>   2007-11-09\n10 Adelie Penguin (Pygoscelis adeliae) <NA>   2007-11-09\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n### Get date components\n\nWe can use `year()`, `month()`, and `day()` to extract different components from `Date Egg`\n\nIn addition, `month()` provides some options to let us decide whether we want the month displayed as a character string, and whether we want that string abbreviated\n\n::: {.cell}\n\n```{.r .cell-code  code-line-numbers=\"3-5\"}\npenguins_raw |> \n  select(Species, Sex, `Date Egg`) |> \n  mutate(Year = year(`Date Egg`),\n         Month = month(`Date Egg`, label = TRUE, abbr = FALSE),\n         Day = day(`Date Egg`))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 344 √ó 6\n   Species                             Sex    `Date Egg`  Year Month      Day\n   <chr>                               <chr>  <date>     <dbl> <ord>    <int>\n 1 Adelie Penguin (Pygoscelis adeliae) MALE   2007-11-11  2007 November    11\n 2 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-11  2007 November    11\n 3 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-16  2007 November    16\n 4 Adelie Penguin (Pygoscelis adeliae) <NA>   2007-11-16  2007 November    16\n 5 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-16  2007 November    16\n 6 Adelie Penguin (Pygoscelis adeliae) MALE   2007-11-16  2007 November    16\n 7 Adelie Penguin (Pygoscelis adeliae) FEMALE 2007-11-15  2007 November    15\n 8 Adelie Penguin (Pygoscelis adeliae) MALE   2007-11-15  2007 November    15\n 9 Adelie Penguin (Pygoscelis adeliae) <NA>   2007-11-09  2007 November     9\n10 Adelie Penguin (Pygoscelis adeliae) <NA>   2007-11-09  2007 November     9\n# ‚Ñπ 334 more rows\n```\n:::\n:::\n\n:::\n<!--end panels-->\n\n\n## Thanks for following along! {.center background-image=\"https://images.unsplash.com/photo-1505168125601-4ddfdea4c7e7?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=2102&q=80\" background-size=\"cover\"}\n\n### [`<svg aria-label=\"Link\" role=\"img\" viewBox=\"0 0 640 512\" style=\"height:1em;width:1.25em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><title>Link</title><path d=\"M579.8 267.7c56.5-56.5 56.5-148 0-204.5c-50-50-128.8-56.5-186.3-15.4l-1.6 1.1c-14.4 10.3-17.7 30.3-7.4 44.6s30.3 17.7 44.6 7.4l1.6-1.1c32.1-22.9 76-19.3 103.8 8.6c31.5 31.5 31.5 82.5 0 114L422.3 334.8c-31.5 31.5-82.5 31.5-114 0c-27.9-27.9-31.5-71.8-8.6-103.8l1.1-1.6c10.3-14.4 6.9-34.4-7.4-44.6s-34.4-6.9-44.6 7.4l-1.1 1.6C206.5 251.2 213 330 263 380c56.5 56.5 148 56.5 204.5 0L579.8 267.7zM60.2 244.3c-56.5 56.5-56.5 148 0 204.5c50 50 128.8 56.5 186.3 15.4l1.6-1.1c14.4-10.3 17.7-30.3 7.4-44.6s-30.3-17.7-44.6-7.4l-1.6 1.1c-32.1 22.9-76 19.3-103.8-8.6C74 372 74 321 105.5 289.5L217.7 177.2c31.5-31.5 82.5-31.5 114 0c27.9 27.9 31.5 71.8 8.6 103.9l-1.1 1.6c-10.3 14.4-6.9 34.4 7.4 44.6s34.4 6.9 44.6-7.4l1.1-1.6C433.5 260.8 427 182 377 132c-56.5-56.5-148-56.5-204.5 0L60.2 244.3z\"/></svg>`{=html} silviacanelon.com](https://www.silviacanelon.com)<br/>\n### [`<svg aria-label=\"Twitter\" role=\"img\" viewBox=\"0 0 512 512\" style=\"height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><title>Twitter</title><path d=\"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z\"/></svg>`{=html} @spcanelon](https://twitter.com/spcanelon)<br/>\n### [`<svg aria-label=\"GitHub\" role=\"img\" viewBox=\"0 0 496 512\" style=\"height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;\"><title>GitHub</title><path d=\"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z\"/></svg>`{=html} @spcanelon](https://github.com/spcanelon) \n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}